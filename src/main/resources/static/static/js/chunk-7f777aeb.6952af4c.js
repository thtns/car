(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f777aeb"],{"027a":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return r}));var a=n("b775");function i(t){return Object(a["a"])({url:"/biz-commodity/list",method:"post",params:t})}function o(t){return Object(a["a"])({url:"/biz-commodity/add",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/biz-commodity",method:"put",data:t})}function r(t){return Object(a["a"])({url:"/biz-commodity-member",method:"put",data:t})}},"3ac0":function(t,e,n){},"6a07":function(t,e,n){"use strict";n("3ac0")},b8ac:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"member-list"},[n("el-button",{staticClass:"add-btn",attrs:{type:"primary",plain:""},on:{click:t.handleAddCommodity}},[t._v("添加商品")]),n("div",{staticClass:"table-container"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pageData,border:""}},[n("el-table-column",{attrs:{prop:"name",align:"center",label:"商品名称"}}),n("el-table-column",{attrs:{prop:"createTime",label:"创建日期",align:"center"}}),n("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.updateTime||"--"))])]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(n){return t.handleEdit(e.row)}}},[t._v("编辑")]),n("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text",size:"medium"},on:{click:function(n){return t.handleDelet(e.row)}}},[t._v("删除")])]}}])})],1)],1),n("CommodityAdd",{attrs:{id:t.editId,show:t.showAdd,name:t.editName},on:{"update:show":function(e){t.showAdd=e},updateList:t.getPageData}})],1)},i=[],o=(n("b0c0"),n("027a")),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.id?"编辑商品":"新增商品",visible:t.DialogVisible,width:"50%","append-to-body":"",center:""},on:{"update:visible":function(e){t.DialogVisible=e},close:t.handleOpen}},[n("el-form",{ref:"form",attrs:{rules:t.ruleForm,model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.handleCancel}},[t._v("取 消")]),n("el-button",{attrs:{loading:t.adding,type:"primary"},on:{click:t.handleConfirm}},[t._v("确 定")])],1)],1)},r=[],l=(n("a9e3"),n("d3b7"),{name:"CommodityAdd",props:{show:{required:!0,type:Boolean,default:!1},id:{required:!1,type:[String,Number],default:""},name:{required:!1,type:[String],default:""}},data:function(){return{adding:!1,form:{name:"",id:""},ruleForm:{name:[{required:!0,message:"请输入商品名称",trigger:"blur"}]}}},computed:{DialogVisible:{get:function(){return this.show},set:function(t){this.$emit("update:show",t)}}},watch:{name:function(t){this.form.name=t},id:function(t){this.form.id=t}},methods:{handleOpen:function(){var t=this;this.$nextTick((function(){t.$refs["form"].resetFields()}))},handleCancel:function(){this.DialogVisible=!1},handleConfirm:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.adding=!0,t.id?Object(o["d"])(t.form).then((function(e){t.$message({type:"success",message:"更新成功！"}),t.DialogVisible=!1,t.$emit("updateList"),t.$nextTick((function(){t.adding=!1}))})).finally((function(){t.adding=!1})):Object(o["a"])(t.form).then((function(e){t.$message({type:"success",message:"新增成功！"}),t.DialogVisible=!1,t.$emit("updateList"),t.$nextTick((function(){t.adding=!1})).finally((function(){t.adding=!1}))}))}))}}}),s=l,c=n("2877"),u=Object(c["a"])(s,d,r,!1,null,"6e16b0da",null),m=u.exports,f={components:{CommodityAdd:m},data:function(){return{total:0,pageData:[],showAdd:!1,editId:"",editName:""}},created:function(){this.getPageData()},methods:{onSearch:function(){this.form.pageNo=1,this.getPageData()},onReset:function(){this.time=[],Object.assign(this.form,{name:"",memberId:"",type:"",cardType:"",pageNo:1,pageSize:10,beginDate:"",endDate:""}),this.getPageData()},getPageData:function(){var t=this;Object(o["c"])().then((function(e){t.total=1*e.data.total,t.pageData=e.data}))},handleAddCommodity:function(){this.showAdd=!0,this.editId="",this.editName=""},handleEdit:function(t){this.showAdd=!0,this.editId=t.id,this.editName=t.name},handleDelet:function(){}}},h=f,p=(n("6a07"),Object(c["a"])(h,a,i,!1,null,"b40927b4",null));e["default"]=p.exports}}]);